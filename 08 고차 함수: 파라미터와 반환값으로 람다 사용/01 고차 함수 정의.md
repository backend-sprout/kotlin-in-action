# 고차 함수 정의  

* 고차 함수 : 다른 함수를 인자로 받거나 함수를 반환하는 함수    
  
코틀린에서는 람다나 함수 참조를 사용해 함수를 값으로 표현할 수 있다.     
이를 이용해 메서드의 인자 또는 반환값으로 함술을 사용할 수 있다.   

## 함수 타입   
  
람다를 인자로 받는 함수를 정의하는 방법을 알기전에    
먼저 람다 인자의 타입을 어떻게 선언할 수 있는지 알아야 한다.    

```kt
val sum = { x: Int, y: Int -> x + y }     // 인자 있고 타입 지정 
val action = { println(42) }              // 인자 없음 
```
위 코드만으로도 파라미터 인자의 타입에 대해서 명시적으로 선언을 할 수 있다.    
단, 반환형에 대해서 타입 선언이 없는데 이는 타입 추론으로 이루어지고 있다.   
  
```kt
val sum: (Int, Int) -> Int = { x, y -> x + y }
val action: () -> Unit = { println(42) }
```
반환형 타입을 정의하려면 함수 타입을 괄호 안에 넣고 화살표를 추가하고 반환 타입을 지정하면 된다.   
참고로 반환형이 void 라도 이에 맞는 Unit 타입을 선언해주어야 한다.    

```kt
var canReturnNull: (Int, Int) -> Int? = {x, y -> null}   // 반환형 null
var funOrNull: ((Int, Int) -> Int)? = null                // 함수 자체가 null
```
   
반환형을 nullable 하게 동작시키고싶다면 당연히 ? 를 넣어서 진행하면 된다.       
함수 타입 전체가 null 이 될 수 있게 하기 위해서는 함수 타입을 괄호로 감싸고 그 뒤에 물음표를 붙여야만 한다.  

```
파라미터 이름과 함수 타입 

fun performRequest (
    url: String,
    callback: (code: Int, content: String) -> Unit 함수 타입의 각 파라미터에 이름을 붙인다.  
) {
    /* ... */
}

>>> performRequest(url) { code, content -> /* ... */ } // 기존 이름 content 사용   
>>> performRequest(url) { code, page -> /* ... */ }    // 기존 이름 말고 다른 이름 page 사용  
함수 타입에 인자 이름을 넣는 것이 가독성도 좋아지고 IDE 에서 자동 완성도 가능하다.   
```  

## 인자로 받은 함수 호출 

```
fun twoAndThree(operation: (Int, Int) -> Int) {   // 콜백 함수를 넘긴다.
    val result = operation(2, 3)                  // 콜백 함수를 호출한다. 
    println("The result is $result") 
}

>>> twoAndThree { a, b -> a + b }
>>> The result is 5

>>> twoAndThree { a, b -> a * b }
>>> The result is 6
```
인자로 받은 함수를 호출하는 구문은 일반 함수를 호출하는 구문과 같다.   



